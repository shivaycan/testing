package com.plantnursery.controller;

import com.plantnursery.exception.InvalidPlantException;
import com.plantnursery.model.Plant;
import com.plantnursery.service.IPlantService;
import jakarta.validation.Valid;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
public class PlantController {

    @Autowired
    private IPlantService service;

    @PostMapping("/addPlant")
    public Plant addPlant(@Valid @RequestBody Plant plantObj) throws InvalidPlantException {
        return service.addPlant(plantObj);
    }

    @PutMapping("/updateQuantity/{plantId}/{quantity}")
    public Plant updatePlantQuantity(@PathVariable String plantId, @PathVariable int quantity)
            throws InvalidPlantException {
        return service.updatePlantQuantity(plantId, quantity);
    }

    @GetMapping("/viewPlantsByType/{plantType}")
    public List<Plant> viewPlantsByType(@PathVariable String plantType) {
        return service.viewPlantsByType(plantType);
    }

    @GetMapping("/viewPlantsInAPriceRange/{lowlimit}/{upperlimit}")
    public List<Plant> viewPlantsInAPriceRange(@PathVariable double lowlimit, @PathVariable double upperlimit) {
        return service.viewPlantsInAPriceRange(lowlimit, upperlimit);
    }
}